---
# This file was generated by scripts/pre-build/library/formatForJekyll.js
title: "Supporting High Contrast Settings"
ref: /ARIA/apg/practices/high-contrast/

github:
  repository: w3c/aria-practices
  branch: main
  path: content/practices/high-contrast/high-contrast-practice.html
feedbackmail: public-aria-practices@w3.org
permalink: /ARIA/apg/practices/high-contrast/

sidebar: true



# Context here: https://github.com/w3c/wai-aria-practices/issues/31
type_of_guidance: APG

lang: en
---
<meta charset="UTF-8" />
<meta content="width=device-width, initial-scale=1.0" name="viewport" />
<title>Supporting High Contrast Settings</title>

<script src="../../../../content-assets/wai-aria-practices/shared/js/examples.js"></script>
<script src="../../../../content-assets/wai-aria-practices/shared/js/highlight.pack.js"></script>
<script src="../../../../content-assets/wai-aria-practices/shared/js/app.js"></script>

<style type="text/css">
  table.data img {
    border: 1px solid gray;
  }
</style>


<link 
  rel="stylesheet"
  href="{{ '/content-assets/wai-aria-practices/styles.css' | relative_url }}"
>
<!-- Code highlighting styles -->
<link 
  rel="stylesheet"
  href="{{ '/content-assets/wai-aria-practices/shared/css/github.css' | relative_url }}"
>

<script>
const addBodyClass = undefined;
const enableSidebar = true;
if (addBodyClass) document.body.classList.add(addBodyClass);
if (enableSidebar) document.body.classList.add('has-sidebar');
</script>
    

<script>
    const parentPage = window.location.pathname.match(
      /\/(patterns|practices|about)\//
    )?.[1];
    if (parentPage) {
      const parentHref = 'a[href*="' + parentPage + '"]';
      document.querySelector(parentHref).classList.add('active');
    }
  </script>
<div>

    <div>
      
      
      <p>Editor's note: After content is complete and near ready for merge, add a heading and abstract to practices.html</p>

      <section id="introduction">
        <h2>Introduction</h2>
        <p>
          While all content and components should meet minimum contrast requirements by default, it is also possible to build components that automatically provide high contrast for users who need more than minimum contrast.
          Many operating systems provide accessibility settings that enable users to specify high contrast preferences.
          This section explains how to ensure components respect those preferences.
        </p>

        <p>This section covers:</p>
        <ol>
          <li>Using SVG graphics to create components whose rendering can adapt operating system color settings.</li>
          <li>Using <code>currentcolor</code> value for inheriting the <code>color</code> property value of ancestors.</li>
          <li>Setting the <code>forced-colors-adjust=auto</code> CSS property on SVG elements.</li>
          <li>Using the <code>forced-colors</code> CSS media query for high contrast settings.</li>
          <li>Using <code>&lt;system-colors&gt;</code> CSS data types for consistency with the rendering of other components in high contrast settings.</li>
        </ol>
      </section>

      <section id="os-high-contrast">
        <h2>Operating System Color and High Contrast Settings</h2>
        <p>Mobile, tablet and desktop operating systems have accessibility features for users to change the colors used to render content, including the rendering ot content from web browsers.   The features are found in the accessibility settings of the operating system.  The following table highlights the major high contrast features in selected operating systems.
        </p>

        <h3 id="os-hc-features">Operating System High Contrast Features</h3>
        <div class="table-wrap"><table aria-labelledby="os-hc-features" class="data">
          <thead>
            <tr>
              <th>Operating System</th>
              <th>Accessibility Features</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Android</td>
              <td>
                <ul>
                  <li>High contrast text</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>iPhone/iPad</td>
              <td>
                <ul>
                  <li>Invert colors</li>
                  <li>Increase contrast</li>
                  <li>Display contrast</li>
                  <li>Reduce transparency</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>Apple macOS</td>
              <td>
                <ul>
                  <li>Smart invert</li>
                  <li>Classic invert</li>
                  <li>Increase contrast</li>
                  <li>Display contrast</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>GNOME Desktop</td>
              <td>
                <ul>
                  <li>Dark mode theme</li>
                  <li>High contrast setting</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td>Microsoft Windows 10/11</td>
              <td>
                <ul>
                  <li>Enable high contrast color theme</li>
                  <li>Choose high contrast color theme</li>
                  <li>User can define custom theme</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table></div>
      </section>

      <section id="svg">
        <h2>SVG for Components</h2>

        <p>Bit-mapped images (e.g. .png, .jpeg) should not be used for components, since their rendering cannot be changed based on user color theme and/or high contrast settings.  SVG graphics can respond to the <code>forced-colors</code> CSS media query and supports the use of <code>currentcolor</code> value for color properties.  An additional advantage of SVG graphics is the smooth scaling of the graphics as the size of content adjusted using browser zoom features. SVG elements can also adapt to a wide variety of screen sizes and load faster due to their smaller size than equivalent bit-mapped images.</p>

        <p>Note: Be sure to include <code>forced-color-adjust=auto</code> CSS property on SVG elements, due to inconsistencies in browsers setting the default value to <code>auto</code>.</p>

      </section>

      <section id="currentcolor">
        <h2><code>currentcolor</code> Keyword</h2>

        <p>The <code>currentcolor</code> keyword provides a means for components to use the color value of ancestors to set the color properties of an element.   When the user chooses a high contrast setting the browser changes the <code>color</code> and <code>background-color</code> values of text content.   The <code>currentcolor</code> value is set to the text color for use in setting the color of other properties including: <code>border</code> and <code>outline</code> on HTML elements, and <code>stroke</code> and <code>fill</code> properties on SVG elements.  Note: There is no equivalent value for using the background color, so when using this technique it is important for the background of the element to be transparent to allow the background color to be visible. </p>

        <p>Using <code>currentcolor</code> is the most popular technique in the ARIA APG examples for supporting user theme and high contrast settings.</p>

        <h3 id="currentcolot-example">Button Switch Example</h3>

        <p>The <a href="../../patterns/switch/examples/switch-button/">Button Switch Example</a> uses <code>currentcolor</code> value to style the SVG <code>rect</code> elements used as the switch container and to indicate the on and off states.  Current color applied to the <code>stroke</code> and <code>fill</code> properties of the <code>rect</code> elements.   The following table shows how the graphical rendering changes for some high contrast options. </p>

        <h4 id="currentcolor-example-screenshots">Button Switch Example with Selected High Contrast User Settings</h4>
        <div class="table-wrap"><table aria-labelledby="currentcolor-example-screenshots" class="data">
          <thead>
            <tr>
              <th>Operating System</th>
              <th>Setting</th>
              <th>Screen Shot</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>macOS 14.4</td>
              <td>Invert Colors: Off (default)</td>
              <td><img src="../../../../content-images/wai-aria-practices/practices/high-contrast/images/currentcolor-macos-invert-off.png" alt="Screen shot of switch example with invert colors turned off" style="height: 85px"></td>
            </tr>
            <tr>
              <td>macOS 14.4</td>
              <td>Invert Colors: on</td>
              <td><img src="../../../../content-images/wai-aria-practices/practices/high-contrast/images/currentcolor-macos-invert-on.png" alt="Screen shot of switch example with invert colors turned on" style="height: 85px"></td>
            </tr>
            <tr>
              <td>Windows 11</td>
              <td>Contrast Theme: none (default)</td>
              <td><img src="../../../../content-images/wai-aria-practices/practices/high-contrast/images/currentcolor-windows11-theme-none.png" alt="Screen shot of switch example with no contrast theme applied" style="height: 90px"></td>
            </tr>
            <tr>
              <td>Windows 11</td>
              <td>Contrast Theme: Night sky</td>
              <td><img src="../../../../content-images/wai-aria-practices/practices/high-contrast/images/currentcolor-windows11-theme-night-sky.png" alt="Screen shot of switch example with night sky contrast theme applied" style="height: 87px"></td>
            </tr>
            <tr>
              <td>Windows 11</td>
              <td>Contrast Theme: Desert</td>
              <td><img src="../../../../content-images/wai-aria-practices/practices/high-contrast/images/currentcolor-windows11-theme-desert.png" alt="Screen shot of switch example with desert contrast theme applied" style="height: 95px"></td>
            </tr>
          </tbody>
        </table></div>



        <h3 id="currentcolor-examples">Other Examples using <code>currentcolor</code> keyword</h3>
        <ul>
          <li><a href="../../patterns/checkbox/examples/checkbox-mixed/">Checkbox (Mixed-State)</a></li>
          <li><a href="../../patterns/disclosure/examples/disclosure-faq/">Disclosure (Show/Hide) for Answers to Frequently Asked Questions</a></li>
          <li><a href="../../patterns/radio/examples/radio-activedescendant/">Radio Group  Using aria-activedescendant</a></li>
          <li><a href="../../patterns/slider/examples/slider-seek/">Media Seek Slider</a></li>
          <li><a href="../../patterns/slider/examples/slider-temperature/">Vertical Temperature Slider</a></li>
        </ul>
      </section>


      <section id="forced-colors">
        <h2><code>forced-colors</code> Media Query</h2>

        <p>The <code>forced-colors</code> CSS media query provides a means for components to use the color preferences of people with visual impairments.   When the user chooses a high contrast setting in their operating system, browsers set <code>forced-colors</code> property to <code>active</code>.   CSS media queries can change component colors to use operating system specified values using <code>&lt;system-colors&gt;</code> CSS data types.  The advantage of using <code>forced-colors</code> over <code>currentcolor</code> is the ability to set a background color and to uniquely define colors for borders, outlines and text content.</p>

        <h3 id="system-colors">System Colors</h3>

        <p>The following table identifies the current system colors defined in <a href="https://www.w3.org/TR/css-color-4/#css-system-colors">CSS Color Module Level 4</a>.  System colors are supported in all major browsers, but the actual colors they render may vary between browsers and operating systems based on default and user theme and contrast settings.</p>

        <div class="table-wrap"><table aria-labelledby="system-colors" class="data">
          <thead>
            <tr>
              <th>System Color</th>
              <th>Sample</th>
              <th>Color</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody id="samples">
          </tbody>
        </table></div>

        <script>
          const values = [
            {value: 'AccentColor',     desc: 'Background of accented user interface controls'},
            {value: 'AccentColorText', desc: 'Text of accented user interface controls'},
            {value: 'ActiveText',      desc: 'Text of active links'},
            {value: 'ButtonBorder',    desc: 'Base border color of controls'},
            {value: 'ButtonFace',      desc: 'Background color of controls'},
            {value: 'ButtonText',      desc: 'Text color of controls'},
            {value: 'Canvas',          desc: 'Background of application content or documents'},
            {value: 'CanvasText',      desc: 'Text color in application content or documents'},
            {value: 'Field',           desc: 'Background of input fields'},
            {value: 'FieldText',       desc: 'Text in input fields'},
            {value: 'GrayText',        desc: 'Text color for disabled items (e.g. a disabled control)'},
            {value: 'Highlight',       desc: 'Background of selected items'},
            {value: 'HighlightText',   desc: 'Text color of selected items'},
            {value: 'LinkText',        desc: 'Text of non-active, non-visited links'},
            {value: 'Mark',            desc: 'Background of text that has been specially marked (such as by the HTML mark element)'},
            {value: 'MarkText',        desc: 'Text that has been specially marked (such as by the HTML mark element)'},
            {value: 'SelectedItem',    desc: 'Background of selected items, for example, a selected checkbox'},
            {value: 'SelectedItemText', desc: 'Text of selected items'},
            {value: 'VisitedText',     desc: 'Text of visited links'}
          ];

          const tbodyNode = document.getElementById('samples');

          console.log(`[tbody]: ${tbodyNode}`);


          values.forEach( v => {
            if (v.value) {
              const tr  = document.createElement('tr');
              const tdv = document.createElement('td');
              tdv.textContent = v.value;
              tr.appendChild(tdv);
              const tds = document.createElement('td');
              tds.style.color = v.value;
              tds.textContent = "Sample Text";
              tr.appendChild(tds);
              const tdc = document.createElement('td');
              tdc.style.fontFamily = 'monospace';
              tdc.textContent = "??";
              tr.appendChild(tdc);
              const tdd = document.createElement('td');
              tdd.textContent = v.desc;
              tr.appendChild(tdd);
              tbodyNode.appendChild(tr);
              const cStyle = window.getComputedStyle(tds);
              const colorHex = rgb2Hex(cStyle.color);
              tdc.textContent =colorHex;
            }
          });

          function rgb2Hex(rgb) {
            // Choose correct separator
            let sep = rgb.indexOf(",") > -1 ? "," : " ";
            // Turn "rgb(r,g,b)" into [r,g,b]
            rgb = rgb.split("(")[1].split(")")[0].split(sep);

            console.log(`[rgb]: ${rgb[0]} ${rgb[1]} ${rgb[2]} ${rgb[3]}`);

            let a = rgb[3] ? (1 - parseFloat(rgb[3])) : 1;

            console.log(`[a]: ${a}`);

            let r = (Math.round(parseInt(rgb[0])*a)).toString(16),
                g = (Math.round(parseInt(rgb[1])*a)).toString(16),
                b = (Math.round(parseInt(rgb[2])*a)).toString(16);

            if (r.length == 1)
              r = "0" + r;
            if (g.length == 1)
              g = "0" + g;
            if (b.length == 1)
              b = "0" + b;

            return "#" + r + g + b;
          }

        </script>

        <h3 id="forced-colors-example">Rating Slider Example</h3>

        <p>The <a href="../../patterns/slider/examples/slider-rating/">Rating Slider Example</a> uses CSS <code>forced-colors: active</code> media query to change the styling of SVG elements used for the rating scale, thumb and labels.  The <code>buttontext</code> system color value is used for <code>stroke</code> and <code>fill</code> properties of the range and thumb elements and <code>canvas</code> system color is used for the label elements (e.g. "Extremely Unsatisfied" and "Extremely Satisfied").   The following table shows how the graphical rendering changes for some high contrast options. </p>

        <h4 id="forced-colors-example-screenshots">Rating Slider Example with Selected High Contrast User Settings</h4>
        <div class="table-wrap"><table aria-labelledby="forced-colors-example-screenshots" class="data">
          <thead>
            <tr>
              <th>Operating System</th>
              <th>Setting</th>
              <th>Screen Shot</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>macOS 14.4</td>
              <td>Invert Colors: Off (default)</td>
              <td>
                <img src="../../../../content-images/wai-aria-practices/practices/high-contrast/images/forced-colors-macos-invert-off.png" alt="Screen shot of switch example with invert colors turned off" style="height: 90px">
              </td>
            </tr>
            <tr>
              <td>macOS 14.4</td>
              <td>Invert Colors: on</td>
              <td>
                <img src="../../../../content-images/wai-aria-practices/practices/high-contrast/images/forced-colors-macos-invert-on.png" alt="Screen shot of switch example with invert colors turned on" style="height: 90px">
              </td>
            </tr>
            <tr>
              <td>Windows 11</td>
              <td>Contrast Theme: none (default)</td>
              <td>
                <img src="../../../../content-images/wai-aria-practices/practices/high-contrast/images/forced-colors-windows11-theme-none.png" alt="Screen shot of switch example with no contrast theme applied" style="height: 90px">
              </td>
            </tr>
            <tr>
              <td>Windows 11</td>
              <td>Contrast Theme: Night sky</td>
              <td>
                <img src="../../../../content-images/wai-aria-practices/practices/high-contrast/images/forced-colors-windows11-theme-night-sky.png" alt="Screen shot of switch example with night sky contrast theme applied" style="height: 90px">
              </td>
            </tr>
            <tr>
              <td>Windows 11</td>
              <td>Contrast Theme: Desert</td>
              <td>
                <img src="../../../../content-images/wai-aria-practices/practices/high-contrast/images/forced-colors-windows11-theme-desert.png" alt="Screen shot of switch example with desert contrast theme applied" style="height: 90px">
              </td>
            </tr>
          </tbody>
        </table></div>

        <h3 id="table-forced-colors">Examples in using <code>forced-colors</code></h3>
        <ul>
          <li><a href="../../patterns/feed/examples/feed/">Feed</a></li>
          <li><a href="../../patterns/radio/examples/radio-rating/">Rating Radio Group</a></li>
        </ul>

      </section>




    </div>
  
</div>
<script
  src="{{ '/content-assets/wai-aria-practices/shared/js/skipto.js' | relative_url }}"
  data-skipto="colorTheme:aria; displayOption:popup; containerElement:div"
></script>

